# xARM5 Robot TF Mapping Configuration
model: "xarm5"
description: "xARM5 robot TF frame mapping for Unity NetworkTF"

ros2:
  # ROS2 namespace (빈 문자열 = root namespace)
  namespace: ""

  # ROS2에서 구독할 TF 프레임 목록
  # Unity에서 실제로 사용하는 프레임만 포함
  subscribe_frames:
    # 필수 프레임 - 로봇 구조 (실제 사용하는 것만)
    - "world"  # 월드 기준점
    - "link_base"  # 로봇 베이스
    - "link_eef"  # End-effector

    # 필수 프레임 - 작업 영역
    - "WorkFrame"  # ⚠️ 필수: 로봇 작업 영역 (target pose 계산용)

    # 제거된 프레임 - Unity에서 실제로 사용하지 않음 (로그 스팸 원인)
    # - "link1"  # Joint 1 - 제거됨
    # - "link2"  # Joint 2 - 제거됨  
    # - "link3"  # Joint 3 - 제거됨
    # - "link4"  # Joint 4 - 제거됨
    # - "link5"  # Joint 5 - 제거됨

    # 선택적 프레임 - 미래 확장용 (현재 Unity에서 사용하지 않음)
    # - "link_tcp"  # Tool center point
    # - "robot_origin"  # FK zero config 위치
    # - "Home"  # 홈 포지션
    # - "WorkIK"  # IK 계산용
    # - "EndEffectorOrientation_xArm5"  # EE 기본 방향

  # ROS2 TF 경로 (parent/child 형식)
  # Unity TFVisualizationManager에서 조회할 때 사용
  # ⚠️ named_frames_v2.yaml의 계층 구조를 따름
  # ⚠️ Unity에서 실제로 참조하는 프레임만 포함
  tf_paths:
    # WorkFrame만 Unity에서 직접 참조함 (나머지는 ROS2가 자동 처리)
    WorkFrame: "robot_origin/WorkFrame"  # 필수: 로봇 작업 영역 (target pose 계산용)

  # ROS TF → NetworkTF 이름 매핑
  # TFMappingManager.MapToNetworkTF()에서 사용
  # {robot_id}는 실행 시 치환됨 (예: robot_id="xarm5_Q1" → "xarm5_Q1_base")
  # 용도: ROS2 TF를 Photon Fusion NetworkTF GameObject로 생성할 때 이름 변환
  # ⚠️ Unity에서 NetworkTF로 생성할 프레임만 포함
  frame_mapping:
    # 로봇 구조 프레임 (실제 사용하는 것만)
    world: "{robot_id}_base"         # world → xarm5_Q1_base
    link_base: "{robot_id}_base"     # link_base → xarm5_Q1_base (동일)
    link_eef: "{robot_id}_eef"       # link_eef → xarm5_Q1_eef

    # 작업 영역 프레임
    WorkFrame: "{robot_id}_WorkFrame"  # WorkFrame → xarm5_Q1_WorkFrame (필수)

    # 제거된 프레임 - Unity에서 실제로 사용하지 않음 (로그 스팸 원인)
    # link1: "{robot_id}_link1"        # 제거됨
    # link2: "{robot_id}_link2"        # 제거됨
    # link3: "{robot_id}_link3"        # 제거됨
    # link4: "{robot_id}_link4"        # 제거됨
    # link5: "{robot_id}_link5"        # 제거됨
  
  # Joint 이름 (선택적 - 미래 확장용)
  joint_names:
    - "joint1"
    - "joint2"
    - "joint3"
    - "joint4"
    - "joint5"

# Visual Type별 TF 표시 설정 (선택적)
visualization:
  VirtualTwin:
    show_all_frames: true  # 모든 TF axes 표시
    highlight_frames:      # 강조 표시할 프레임
      - "link_eef"
      - "WorkFrame"
  
  VirtualGuide:
    show_all_frames: false  # 일부만 표시
    visible_frames:
      - "link_eef"
      - "WorkFrame"



